{% extends 'core/base.html' %}
{% load static %}
{% block title %}Services | {{ SITE_NAME }}{% endblock title %}
{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="text-warning h3 mb-0">Services</h1>
    <a href="{% url 'contactus' %}" class="btn btn-sm btn-outline-warning">Request a Quote</a>
  </div>
  {% if featured_services %}
    <h5 class="text-white-50 mt-3">Featured</h5>
    <div class="row g-4 mb-4">
      {% for svc in featured_services %}
        <div class="col-sm-6 col-lg-4">
          <div class="service-card h-100">
            <div class="d-flex justify-content-between align-items-start mb-1">
              <h5 class="text-white mb-0">{{ svc.title }}</h5>
              <i class="{{ svc.icon_class }} text-warning"></i>
            </div>
            <p class="text-white-50 small">{{ svc.short_description|truncatechars:120 }}</p>
            {% if svc.features %}
            <ul class="small text-info mb-2" style="list-style:none; padding-left:0;">
              {% for f in svc.get_features_list|slice:':4' %}
                <li><i class="fa fa-check text-success"></i> {{ f }}</li>
              {% endfor %}
              {% if svc.get_features_list|length > 4 %}<li class="text-white-50">+ more</li>{% endif %}
            </ul>
            {% endif %}
            <div class="d-flex flex-wrap gap-2 mt-auto">
              <a href="{{ svc.get_absolute_url }}" class="btn btn-sm btn-outline-warning">Details</a>
              <a href="{% url 'contactus' %}" class="btn btn-sm btn-outline-success">Hire</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <h5 class="text-white-50 mt-4">All Services</h5>
  <div class="row g-4">
    {% for svc in services %}
      <div class="col-sm-6 col-lg-4">
        <div class="service-card h-100">
          <div class="d-flex justify-content-between align-items-start mb-1">
            <h5 class="text-white mb-0">{{ svc.title }}</h5>
            <i class="{{ svc.icon_class }} text-primary"></i>
          </div>
          <p class="text-white-50 small">{{ svc.short_description|truncatechars:110 }}</p>
          {% if svc.price_starting %}<div class="text-warning small mb-2">From {{ svc.get_price_display }}</div>{% endif %}
          <div class="d-flex flex-wrap gap-2 mt-auto">
            <a href="{{ svc.get_absolute_url }}" class="btn btn-sm btn-outline-light">Details</a>
            <a href="{% url 'contactus' %}" class="btn btn-sm btn-outline-success">Start</a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12"><p class="text-white-50">No services added yet.</p></div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
